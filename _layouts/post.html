{% assign minutes = content | number_of_words | divided_by: 180 %}
{% if minutes == 0 %}
  {% assign minutes = 1 %}
{% endif %}

{% assign author = site.data.authors[page.author] %}
{% assign ad = [1, 2, 3] %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="{{ page.summary }}">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="{{ site.author }}">
    <title>{{page.title}}</title>
    <meta name="google-site-verification" content="o9eGPEgIETEqYGombq7NiQuBIB_qa6gz1yAL7PxKyK0">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#4D8799">
    <link rel="icon" sizes="192x192" href="/images/touch/chrome-touch-icon-192x192.png">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="thoughtram">
    <link rel="apple-touch-icon" href="/images/touch/apple-touch-icon.png">

    <!-- Tile icon for Win8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="/images/touch/ms-touch-icon-144x144-precomposed.png">
    <meta name="msapplication-TileColor" content="#4D8799">

    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="{{ page.title }}">
    <meta property="og:description" content="{{page.summary}}">
    <meta property="og:url" content="http://blog.thoughtram.io{{ page.url }}">
    <meta property="og:site_name" content="{{ site.title }}">
    <meta property="og:image" content="http://blog.thoughtram.io{{ page.imageUrl }}">
    <meta property="og:publisher" content="http://www.facebook.com/thoughtram">

    <meta property="twitter:card" content="summary">
    <meta property="twitter:title" content="{{page.title}}">
    <meta property="twitter:site" content="thoughtram Blog">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="{{ "/css/main.css" | prepend: site.baseurl }}" type="text/css">
  </head>
  <body class="sub-site">
    <!-- Add your site or app content here -->

    <!--[if lt IE 10]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <header class="thtrm-header" role="banner">
      <div class="thtrm-header-bar">
        <div class="thtrm-constraint">
          <a href="/" class="thtrm-header-logo-link" title="thoughtram.io Start Page"><h1 class="thtrm-header-logo">thoughtram</h1></a>
          <div class="thtrm-header-menu-wrapper">
            <span role="button" tabindex="0" class="thtrm-header-menu-label">Menu</span>
            <ul class="thtrm-header-menu">
              <li><a title="Training" class="thtrm-header-menu-item" href="/training.html">Training</a></li>
              <li><a title="Code Review" class="thtrm-header-menu-item" href="/code-review.html">Code Review</a></li>
              <li><a title="Blog" class="thtrm-header-menu-item" href="/">Blog</a></li>
            </ul>
          </div>
        </div>
      </div>
    </header>

    <main role="main" class="thtrm-main">
    <div class="thtrm-banner" style="background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 2%,#29383E 100%), url('{% if page.imageUrl %}{{ page.imageUrl}}{% else %}/images/banner/fallback.jpeg{% endif %}');">
        <hgroup class="thtrm-banner-container">
          <div class="thtrm-constraint thtrm-constraint--slim">
            <h2 class="thtrm-banner-text">{{page.title}}</h2>
            <span>by <a href="http://twitter.com/{{author.twitter}}" title="{{author.name}} on Twitter">{{author.name}}</a> on {{page.date | date: "%b %-d, %Y" }}{% if page.update_date %} (updated on {{ page.update_date | date: "%b %-d, %Y" }}){% endif %}<br>{{ minutes }} minute read</span>

          </div>
        </hgroup>
      </div>
      <div class="thtrm-constraint thtrm-constraint--slim">
        <div class="thtrm-article">
          {{ content }}
        </div>
        <section class="thtrm-section thtrm-section--is-promo thtrm-section thtrm-section--is-promo-light">
          <img width="100" src="/images/5-things-bw-white.png">
          <h3 class="thtrm-section-headline">5thingsAngular</h3>
          <p class="thtrm-section-text">Get weekly updates on the latest and greatest happenings in the Angular world by thoughtram!</p>
          <a href="http://5thingsAngular.github.io" title="5thingsAngular" class="thtrm-layout-divider-cta">Tell me more</a>
        </section>

        <h3 class="thtrm-section-headline thtrm-section-headline--with-margin">Author</h3>
        <div class="thtrm-article-author">
          <span class="thtrm-article-author-avatar"><img src="{{author.gravatar}}" alt="Picture of {{author.name}}"></span>
          <div class="thtrm-article-author-matter">
            <h4 class="thtrm-article-author-name">{{author.name}}</h4>
            <p class="thtrm-article-author-text">{{ author.bio }}</p>
            <p>
              <a class="thtrm-article-author-cta thtrm-article-author-cta-twitter" href="{{author.web}}" title="{{author.name}} on Twitter">Twitter</a>
              <a class="thtrm-article-author-cta" href="{{author.github}}" title="{{author.name}} on GitHub">GitHub</a>
            </p>
          </div>
        </div>
      </div>
      <div class="thtrm-constraint">
      {% assign hasSimilar = '' %}
      {% for post in site.posts %}
          {% assign postHasSimilar = false %}
          {% for tag in post.tags %}
              {% for thisTag in page.tags %}
                  {% if postHasSimilar == false and hasSimilar.size < 6 and post.title != page.title and tag == thisTag %}
                      {% if hasSimilar.size == 0 %}
                      <h4 class="thtrm-section-headline thtrm-section-headline--with-big-margin thtrm-section-headline--centered">Related Posts</h4>
                      <ul class="thtrm-three-column-list thtrm-three-column-list--with-padding">
                      {% endif %}
                      <li>
                        <a class="thtrm-article-card" href="{{ post.url | prepend: site.baseurl }}" title="{{post.title}}">
                          <div class="thtrm-article-card-image" style="background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 2%,#29383E 100%),url({% if post.imageUrl %}{{ post.imageUrl }}{% else %}/images/banner/fallback.jpeg{% endif %});"></div>
                          <div class="thtrm-article-card-content ">
                            <h3>{{ post.title }}</h3>
                            <p>{{ post.summary | truncatewords: 20 }}</p>
                          </div>
                        </a>
                      </li>
                      {% capture hasSimilar %}{{ hasSimilar }}*{% endcapture %}
                      {% assign postHasSimilar = true %}
                  {% endif %}
              {% endfor %}
          {% endfor %}
      {% endfor %}
      {% if hasSimilar.size > 0 %}
          </ul>
      {% endif %}
      </div>
    </main>
    {% include footer.html %}
  </body>
</html>


<!-- <script>
(function (doc) {
  var num = Math.floor(Math.random() * (2 - 0));
  doc.querySelectorAll('.thtrm-m-ad')[num].classList.add('thtrm-m-ad--visible');
}(document));
</script> -->
